<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch API - POST Method</title>
</head>
<body>
    <form id="form" method="post">
        <input type="text" id="name" placeholder="Title">
        <br>
        <input type ="text" id="body" placeholder="What's on your mind?...">
        <button id="btnAdd">Add to List</button>
        <div id="output"></div>
    </form>
    <script>
        const getForm = document.getElementById('form');
        getForm.addEventListener('submit', function(e){
            // prevent auto submission of the form
            e.preventDefault()

            // get the name and body of the form
            const name = document.getElementById('name').value;
            const body = document.getElementById('body').value;

            //fetch POST request
            fetch('https://jsonplaceholder.typicode.com/todos',{
            method: 'POST',
            body: JSON.stringify(
                {
                    userId: 9,
                    title: name,
                    body: body,
                    completed: false,
                }),
            headers: {
                    "content-Type":"application/json; charset = UTF-8"
                }
            })
            .then(function(response){
                return response.json()
        })
            .then (function(data)
            {
                console.log(data)
                output.innerHTML = `<p>This is the title: ${data.title}</p>
                                    <p> This is the body: ${data.body} </p>`

            })
        })

        

      
    </script>
</body>
</html>